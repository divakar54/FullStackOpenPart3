{"version":3,"sources":["components/PersonForm.js","components/Names.js","components/Person.js","services/comms.js","components/Notification.js","components/Filter.js","App.js","index.js"],"names":["PersonForm","props","onSubmit","addName","onChange","handleNameChange","value","newName","handleNumberChange","newNumber","type","Names","name","number","handleDelete","iD","onClick","Person","persons","removePerson","map","n","id","baseURL","axios","get","nameObject","post","delete","then","response","data","Notification","message","className","Filter","filter","updateFilter","event","preventDefault","App","useState","setPersons","setNewName","setNewNumber","errorMessage","setErrorMessage","setFilter","useEffect","comObject","personsToShow","person","toLowerCase","includes","target","undefined","find","concat","catch","error","setTimeout","alert","window","confirm","p","console","log","ReactDOM","render","document","getElementById"],"mappings":"6KAYeA,EAXI,SAACC,GAChB,OACI,uBAAMC,SAAUD,EAAME,QAAtB,UACE,0CAAY,uBAAOC,SAAUH,EAAMI,iBAAkBC,MAAOL,EAAMM,aAClE,4CAAc,uBAAOH,SAAUH,EAAMO,mBAAoBF,MAAOL,EAAMQ,eACtE,8BACE,wBAAQC,KAAK,SAAb,uBCEGC,EAPD,SAAC,GAAqC,IAApCC,EAAmC,EAAnCA,KAAMC,EAA6B,EAA7BA,OAAQC,EAAqB,EAArBA,aAAcC,EAAO,EAAPA,GACxC,OACI,gCACKH,EADL,IACYC,EADZ,IACoB,wBAAQG,QAAS,kBAAIF,EAAaC,EAAIH,IAAtC,wBCIbK,EAPD,SAAC,GAA2B,IAA1BC,EAAyB,EAAzBA,QAASC,EAAgB,EAAhBA,aACrB,OACI,8BACGD,EAAQE,KAAI,SAACC,GAAD,OAAO,cAAC,EAAD,CAAkBN,GAAIM,EAAEC,GAAIV,KAAMS,EAAET,KAAMC,OAAQQ,EAAER,OAAQC,aAAcK,GAA9DE,EAAEC,U,gBCJtCC,EAAU,wDAeD,EAZA,WACX,OAAOC,IAAMC,IAAIF,IAWN,EARC,SAACG,GACb,OAAOF,IAAMG,KAAKJ,EAASG,IAOhB,EALG,SAACJ,GAEf,OADgBE,IAAMI,OAAN,+DAAqEN,IACtEO,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SCC9BC,EAZM,SAAC,GAAc,IAAbC,EAAY,EAAZA,QACnB,OAAa,OAAVA,EACQ,KAIH,qBAAKC,UAAU,QAAf,SACCD,KCUEE,EAjBA,SAAC,GAAmC,IAAlCjB,EAAiC,EAAjCA,QAASkB,EAAwB,EAAxBA,OAAQC,EAAgB,EAAhBA,aAO9B,OACI,8BACI,sBAAMnC,SAPc,SAAAoC,GACxBA,EAAMC,iBACNrB,EAAQkB,IAKJ,SACI,qDACkB,uBAAO9B,MAAO8B,EAAQhC,SAAUiC,YC2FnDG,G,MAhGH,WAAO,IAAD,EAEgBC,mBAAS,IAFzB,mBAERvB,EAFQ,KAECwB,EAFD,OAIgBD,mBAAS,IAJzB,mBAIRlC,EAJQ,KAICoC,EAJD,OAMkBF,mBAAS,IAN3B,mBAMThC,EANS,KAMEmC,EANF,OAQwBH,mBAAS,kBARjC,mBAQTI,EARS,KAQKC,EARL,OAUYL,mBAAS,IAVrB,mBAUTL,EAVS,KAUDW,EAVC,KAYhBC,qBAAU,WACRC,IAECpB,MAAK,SAAAC,GACJY,EAAWZ,EAASC,WAErB,IAEH,IA+BMmB,EAAgBhC,EAAQkB,QAAO,SAAAe,GAAM,OACzCA,EAAOvC,KAAKwC,cAAcC,SAASjB,EAAOgB,kBA0B5C,OACE,gCACE,2CACA,cAAC,EAAD,CAAQlC,QAASA,EAASZ,MAAO8B,EAAQC,aAPlB,SAAAC,GACzBS,EAAUT,EAAMgB,OAAOhD,UAOrB,cAAC,EAAD,CAAc2B,QAASY,IACvB,kDACE,cAAC,EAAD,CAAY1C,QAhEJ,SAACmC,IACbA,EAAMC,sBAEGgB,IADGrC,EAAQsC,MAAK,SAACnC,GAAD,OAAKA,EAAET,OAAOL,MAMrC0C,EAJoB,CAClBrC,KAAML,EACNM,OAAQJ,IAILoB,MAAK,SAAAC,GACJY,EAAWxB,EAAQuC,OAAO3B,EAASC,UAEpC2B,OAAM,SAAAC,GACLb,EAAgB,SAAD,OACJ5B,EAAQN,OAEnBgD,YAAW,WAAKd,EAAgB,QAAQ,QAEzCjB,MAAK,SAAA8B,GACJb,EAAgB,SAAD,OACJvC,IAEXqD,YAAW,WAAKd,EAAgB,QAAQ,QAI9Ce,MAAM,GAAD,OAAItD,EAAJ,+BAsCSF,iBA9BK,SAACiC,GACtBK,EAAWL,EAAMgB,OAAOhD,QA8BRC,QAASA,EACTE,UAAWA,EACXD,mBA7BO,SAAC8B,GACxBM,EAAaN,EAAMgB,OAAOhD,UA8BxB,yCACE,cAAC,EAAD,CAAQY,QAASgC,EAAe/B,aA5BjB,SAACG,EAAIV,GACjBkD,OAAOC,QAAP,iBAAyBnD,EAAzB,OACDqC,EACmB3B,GACVO,MAAK,WACJa,EAAWxB,EAAQkB,QAAO,SAAA4B,GAAC,OAAIA,EAAE1C,KAAKA,MACtC2C,QAAQC,IAAI3D,cCzEhC4D,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.44a776b5.chunk.js","sourcesContent":["import React from 'react'\r\nconst PersonForm = (props) => {\r\n    return(\r\n        <form onSubmit={props.addName}>\r\n          <div> name: <input onChange={props.handleNameChange} value={props.newName} /></div>\r\n          <div> number: <input onChange={props.handleNumberChange} value={props.newNumber} /></div>\r\n          <div>\r\n            <button type=\"submit\" >add</button>\r\n          </div>\r\n        </form>\r\n    )\r\n}\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Names = ({name, number, handleDelete, iD}) =>{\r\n    return(\r\n        <div>\r\n            {name} {number} <button onClick={()=>handleDelete(iD, name)}>Delete</button>\r\n        </div>\r\n    )\r\n}\r\nexport default Names","import React from 'react'\r\nimport Names from './Names'\r\nconst Person =({persons, removePerson})=>{\r\n    return(\r\n        <div>\r\n          {persons.map((n) => <Names key={n.id} iD={n.id} name={n.name} number={n.number} handleDelete={removePerson}/>)}\r\n        </div>\r\n    )\r\n}\r\nexport default Person","import axios from 'axios'\r\nconst baseURL = 'https://obscure-ridge-25525.herokuapp.com/api/persons'\r\n\r\n\r\nconst getAll = () =>{\r\n    return axios.get(baseURL)\r\n}\r\n\r\nconst postAll = (nameObject) =>{\r\n    return axios.post(baseURL, nameObject)\r\n}\r\nconst removeAll = (id) =>{\r\n    const request = axios.delete(`https://obscure-ridge-25525.herokuapp.com/api/persons${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default {getAll, postAll, removeAll}","import React from 'react'\r\n\r\nconst Notification = ({message}) =>{\r\n    if(message===null){\r\n        return null\r\n    }\r\n    else{\r\n        return(\r\n            <div className=\"error\">\r\n            {message}\r\n        </div>\r\n        )\r\n    }\r\n}\r\nexport default Notification","import React from 'react'\r\n\r\nconst Filter = ({persons, filter, updateFilter})=>{\r\n\r\n     const callFilterFunction = event => {\r\n        event.preventDefault()\r\n        persons(filter)\r\n      }\r\n\r\n    return(\r\n        <div>\r\n            <form onSubmit={callFilterFunction}>\r\n                <div>\r\n                Filter shown with <input value={filter} onChange={updateFilter} />\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\nexport default Filter","import React, { useState, useEffect } from 'react'\r\nimport PersonForm from './components/PersonForm'\r\nimport Person from './components/Person'\r\nimport comObject from './services/comms'\r\nimport Notification from './components/Notification'\r\nimport Filter from './components/Filter'\r\nimport './index.css'\r\n\r\nconst App = () => {\r\n\r\n  const [ persons, setPersons ] = useState([])\r\n\r\n  const [ newName, setNewName ] = useState('')\r\n\r\n  const [newNumber, setNewNumber] = useState('')\r\n\r\n  const [errorMessage, setErrorMessage] = useState('Add Someone...')\r\n\r\n  const [filter, setFilter] = useState('')\r\n\r\n  useEffect(()=>{\r\n    comObject\r\n    .getAll()\r\n    .then(response=>{\r\n      setPersons(response.data)\r\n    })\r\n  }, [])\r\n\r\n  const addName=(event)=>{\r\n    event.preventDefault()\r\n    const res = persons.find((n)=>n.name===newName)\r\n    if(res===undefined){\r\n      const newNameObject={\r\n        name: newName,\r\n        number: newNumber\r\n      }\r\n      comObject\r\n          .postAll(newNameObject)\r\n          .then(response => {\r\n            setPersons(persons.concat(response.data))\r\n          })\r\n          .catch(error=>{\r\n            setErrorMessage(\r\n              `Added ${persons.name}`\r\n            )\r\n            setTimeout(()=>{setErrorMessage(null)}, 5000)\r\n          })\r\n          .then(error=>{\r\n            setErrorMessage(\r\n              `Added ${newName}`\r\n            )\r\n            setTimeout(()=>{setErrorMessage(null)}, 5000)\r\n          })\r\n    }\r\n    else{\r\n      alert(`${newName} already in the phonebook`)\r\n    }\r\n    \r\n  }\r\n  const personsToShow = persons.filter(person => \r\n    person.name.toLowerCase().includes(filter.toLowerCase()))\r\n\r\n\r\n  const handleNameChange=(event)=>{\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange=(event)=>{\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const deletePerson = (id, name)=>{\r\n        if(window.confirm(`Delete ${name}?`)){\r\n          comObject\r\n                  .removeAll(id)\r\n                  .then(()=>{\r\n                    setPersons(persons.filter(p => p.id!==id))\r\n                    console.log(newName)\r\n                  })\r\n        }\r\n  }\r\n\r\n  const handleFilterChange = event => {\r\n    setFilter(event.target.value)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Filter persons={persons} value={filter} updateFilter={handleFilterChange} />\r\n      <Notification message={errorMessage} />\r\n      <h3>Add a new number</h3>\r\n        <PersonForm addName={addName} \r\n                    handleNameChange={handleNameChange} \r\n                    newName={newName} \r\n                    newNumber={newNumber} \r\n                    handleNumberChange={handleNumberChange} \r\n        />\r\n      <h3>Numbers</h3>\r\n        <Person persons={personsToShow} removePerson={deletePerson}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}